---
alwaysApply: false
description: 项目的通用约束，包括中文注释要求、可观测性与兜底规范。当需要确认通用约束时读取此规则。
---

# 通用约束

## 语言规范（NON-NEGOTIABLE）

- 所有文档和代码注释必须使用中文
- 代码变量/函数命名仍使用英文（遵循编码规范）

## 可观测性与兜底

- AI 任务需要完整链路：任务 ID、素材/模型引用、日志追踪
- 失败时提供兜底提示与重试机制

## 占位元素使用规范

### 使用场景

以下情况使用占位元素，不实现临时方案：

- 图标资源未确定（等待 iconfont）
- 图片资源未确定（等待设计提供）
- 第三方资源未接入

### 处理原则

| 场景 | 处理方式 |
|------|----------|
| 图标 | 使用 `<div className={styles.placeholderIcon} />` |
| 图片 | 使用 `<div className={styles.placeholderImage} />` |
| 后续替换 | 添加 TODO 注释标记替换点 |

### 示例

```tsx
// 工艺单卡片图片
<div className={styles.placeholderImage} />

// 新建按钮图标（等待 iconfont）
<div className={styles.placeholderIcon} />
  {/* TODO: 替换为 iconfont 图标 */}
</div>
```

### 约束

- 禁止使用 svg 临时实现图标
- 禁止使用 placeholder 图片服务
- 明确标记替换点，便于后续批量替换

## 通用约束汇总

以下约束已在前文详述，此处汇总便于快速查阅：

| 约束 | 来源 |
|------|------|
| TypeScript 强制使用 | 02-编码规范 |
| 项目结构规范（禁止新建非标准目录） | 03-项目结构 |
| 命名规范一致性 | 02-编码规范 |
| 路由配置集中管理 | 06-路由规范 |
| API 函数命名规范 | 05-API规范 |
| 主题色 CSS 变量使用 | 09-样式规范 |
