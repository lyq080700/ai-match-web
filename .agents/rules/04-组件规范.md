---
alwaysApply: false
description: 项目的组件规范，包括组件目录结构、SCSS Modules 使用、组件层级规划（通用 vs 页面级）。当创建或拆分组件时读取此规则。
---

# 组件规范

## 组件结构

- 组件目录在 `/components` 下，每个组件单独一个目录
- 组件文件名为 `index.tsx`，样式文件为 `index.module.scss`
- 所有组件必须导入到 `/components/index.ts` 中集中导出
- 组件必须使用 SCSS Modules
- 交互组件库二次封装必须使用 Radix UI 组件
- 组件必须使用清晰的 TS 类型定义，Props 接口必须明确
- 使用 `classnames` 负责动态 class 管理

如需查看创建组件的完整示例与拆分步骤，请使用技能文件：

- `.agents/skills/create-component/SKILL.md`

## 组件层级规划

- 单个 `.tsx` 文件建议不超过 400 行（作为拆分的参考阈值）
- 遵循单一职责原则，每个组件应有明确的职责边界
- **页面级组件**：仅在当前页面使用 → 放在 `/app/<page>/components/`
- **通用组件**：跨页面复用 → 提取到 `/components/`

## 组件放置决策树

新增组件时，按以下流程判断放置位置：

```
组件需要在多个页面使用吗？
├─ YES → 通用组件 → 放在 `/components/<name>/`
└─ NO → 仅在单页使用 → 放在 `/app/<page>/components/<name>/`
```

**示例**：

- `ErrorBoundary`（多处使用）→ `/components/error-boundary/`
- `CraftSheetCard`（仅工艺单页面使用）→ `/app/craft-sheet/components/craft-sheet-card/`

**约束**：`/components/` 中的组件必须是真正通用的，业务耦合组件禁止放入。
