---
alwaysApply: false
description: 项目的状态管理规范，使用 Zustand 进行全局状态管理。当需要新增或重构状态管理时读取此规则。
---

# 状态管理规范（NON-NEGOTIABLE）

## 基础规范

- 状态管理必须使用 **Zustand**
- 所有 store 文件必须放在 `stores` 目录下
- **禁止在项目根目录下新建其他目录存放 store**

## Store 组织规范

- Store 按业务模块划分，每个模块单独一个文件
- 每个模块的 store 必须暴露 `useXxxStore` Hook
- Store 中不要直接耦合具体 UI 组件，只存纯数据与业务行为

## 目录结构

```
stores/
├── theme.ts       # useThemeStore
├── user.ts        # useUserStore
└── ai-editor.ts   # useAiEditorStore
```

## 持久化（如需要）

当状态需要跨页面或刷新保留时，使用 `zustand/middleware` 的 `persist`。

如需查看创建 store 的完整示例与持久化配置，请使用技能文件：

- `.agents/skills/create-store/SKILL.md`
